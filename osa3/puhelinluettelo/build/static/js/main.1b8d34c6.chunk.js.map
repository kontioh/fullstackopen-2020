{"version":3,"sources":["components/Filter.js","components/ListPersons.js","components/PersonForm.js","components/Notification.js","services/PersonService.js","App.js","index.js"],"names":["Filter","filter","handleFilter","value","onChange","Person","person","handleDelete","name","number","onClick","ListPersons","persons","filtered","p","toLowerCase","includes","map","i","PersonForm","props","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Notification","message","messageType","console","log","className","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","setMessageType","useEffect","personService","allPersons","handleUpdate","find","window","confirm","returnedPerson","setTimeout","catch","error","event","target","preventDefault","personObject","createdPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1b8d34c6.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst Filter = ({ filter, handleFilter }) => {\n    return (\n      <div>\n        filter shown with <input value={filter} onChange={handleFilter}/>\n      </div>\n    )\n  }\n\n  export default Filter","import React from 'react'\n\n\nconst Person = ({ person, handleDelete }) => {\n    return (\n        <div>\n          {person.name} {person.number} <button onClick={() => handleDelete(person)}>delete</button>\n        </div>\n    )\n}\n    \nconst ListPersons = ({ persons, filter, handleDelete }) => {\n    const filtered = persons.filter(p => (p.name.toLowerCase()).includes(filter.toLowerCase()))\n    return (\n      <div>\n        {filtered.map((person,i) => \n          <Person key={i} person={person} handleDelete={handleDelete} />)}\n      </div>\n    )\n}\n\nexport default ListPersons  \n","import React from 'react'\n\n\nconst PersonForm = (props) => {\n    return (\n        <div>\n        <form onSubmit={props.addPerson}>\n            <div>name: <input value={props.newName} onChange={props.handleNameChange}/></div>\n            <div>number: <input value={props.newNumber} onChange={props.handleNumberChange}/></div>\n            <div><button type=\"submit\">add</button></div>\n        </form>\n        </div>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\n\nconst Notification = ({ message, messageType }) => {\n    if (message === null) {\n        return null\n    }\n    console.log(messageType)\n\n    return (\n        <div className={messageType}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => {\n        return response.data\n    })\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => {\n        return response.data\n    })\n}\n\nconst del = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data )\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => {\n        return response.data\n    })\n}\n\nexport default { getAll, create, del, update }","import React, { useState, useEffect } from 'react'\n\nimport Filter from './components/Filter'\nimport ListPersons from './components/ListPersons'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport personService from './services/PersonService'\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ messageType, setMessageType ] = useState('success')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(allPersons => {\n        setPersons(allPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = { name: newName, number: newNumber }\n\n    if (persons.map(p => p.name).includes(newName)) {\n      handleUpdate(personObject)\n    } else {\n      personService\n        .create(personObject)\n          .then(createdPerson => {\n          setPersons(persons.concat(createdPerson))\n          setNewName('')\n          setNewNumber('')\n          setMessage(`Added ${createdPerson.name}`)\n          setMessageType('success')\n          setTimeout(() => { setMessage(null)}, 5000)\n        })\n        .catch((error) => {\n          setMessage(error.response.data.error)\n          setMessageType('error')\n          setTimeout(() => { setMessage(null)}, 5000)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const onFilterUpdate = (event) => setFilter(event.target.value)\n  \n  const handleDelete = (person) => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      console.log('delete ', person.name)\n      personService\n        .del(person.id)\n          .then(() => {\n          setPersons(persons.filter(p => p.id !== person.id))\n          setMessage(`Deleted ${person.name}`)\n          setMessageType('success')\n          setTimeout(() => { setMessage(null)}, 5000)\n          })\n    }\n  }\n\n  const handleUpdate = (person) => {\n    const id = persons.find(p => p.name === newName).id\n    if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n      personService\n        .update(id, person)\n          .then(returnedPerson => {\n            setPersons(persons.map(p => p.id !== id ? p : returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            setMessage(`Updated the number of ${returnedPerson.name}`)\n            setMessageType('success')\n            setTimeout(() => { setMessage(null)}, 5000)\n          })\n          .catch(error => {\n            console.log(error)\n            console.log(`The person ${person.name} was already deleted from server.`)\n            setMessage(`Information of ${person.name} has already been removed from server`)\n            setMessageType('error')\n            setTimeout(() => { setMessage(null)}, 5000)\n            setPersons(persons.filter(p => p.id !== id))\n          })\n    } \n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification \n        message={message} \n        messageType={messageType}\n        />\n      <Filter \n        filter={filter} \n        handleFilter={onFilterUpdate}\n        />\n      <h2>add a new</h2>\n      <PersonForm \n        newName={newName} \n        newNumber={newNumber}\n        addPerson={addPerson}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        />\n      <h2>Numbers</h2>\n      <ListPersons \n        persons={persons} \n        filter={filter} \n        handleDelete={handleDelete}\n        />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}